{"remainingRequest":"C:\\Users\\web\\Desktop\\我的项目\\X project\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\web\\Desktop\\我的项目\\X project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\我的项目\\X project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\我的项目\\X project\\src\\components\\shop\\shopinfo.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\我的项目\\X project\\src\\components\\shop\\shopinfo.vue","mtime":1542707603648},{"path":"C:\\Users\\web\\Desktop\\我的项目\\X project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\我的项目\\X project\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1534853420000},{"path":"C:\\Users\\web\\Desktop\\我的项目\\X project\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\web\\Desktop\\我的项目\\X project\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport footer from \"../sub/footer.vue\";\nimport { MessageBox } from 'mint-ui';\nimport { Toast } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      msg: \"\",\n      selectedf: \"1\",\n      selecteds: \"1\",\n      listss: [],\n      list: [],\n      popupVisible: false,\n      lists: [],\n      selected: \"1\",\n      color: [],\n      size: [],\n      shopvalue: \"颜色\",\n      shopsize: \"尺码\",\n      duration: '',\n      durationSize: '',\n      checked: \"请选择（尺码/颜色/数量）\",\n      sm_img: [],\n      count: 0,\n      sum: 0,\n      imginfo: [],\n      allshopinfo: [],\n      comment: [],\n      page: [],\n      allLoaded: \"\",\n      pageIndex: 0,\n      pageSize: 5\n    };\n  },\n  methods: {\n    loadBottom: function loadBottom() {\n      this.comments();\n      this.$refs.loadmore.onBottomLoaded();\n    },\n    postComment: function postComment() {\n      var _this = this;\n\n      var c = this.msg;\n      var uname = \"马云\";\n      var id = this.$route.query.id;\n\n      if (c.trim().length == 0) {\n        Toast(\"评论内容不能为空\");\n        return;\n      }\n\n      this.$http.post(\"incomment\", {\n        id: id,\n        c: c,\n        uname: uname\n      }).then(function (result) {\n        Toast(result.body);\n\n        _this.comments();\n\n        _this.msg = \"\";\n      });\n    },\n    carturl: function carturl() {\n      if (sessionStorage.getItem(\"login\") == 1) {\n        this.$router.push(\"/index/shopcart\");\n      } else {\n        Toast(\"请先登录！\");\n        this.$router.push(\"/login\");\n      }\n    },\n    back: function back() {\n      this.$router.push(\"/index/shoplists\");\n    },\n    push: function push(id) {\n      this.$router.push('/index/shoplists/shopinfo?id=' + id);\n      this.$router.go(0);\n    },\n    add: function add() {\n      if (this.count < 999) {\n        this.count++;\n        this.sum = this.lists.price * this.count;\n      }\n    },\n    minus: function minus() {\n      if (this.count > 0) {\n        this.count--;\n        this.sum = this.lists.price * this.count;\n      }\n    },\n    getswipt: function getswipt() {\n      var _this2 = this;\n\n      var id = this.$route.query.id;\n      this.$http.get(\"shopinfo\").then(function (result) {\n        _this2.list = result.body[id - 1];\n      });\n    },\n    getshop: function getshop() {\n      var _this3 = this;\n\n      var id = this.$route.query.id;\n      this.$http.get(\"shoplists\").then(function (result) {\n        _this3.lists = result.body[id - 1];\n        _this3.color = _this3.lists.color;\n        _this3.size = _this3.lists.size;\n        _this3.sm_img = _this3.lists.sm_img[0];\n        _this3.imginfo = _this3.lists.imginfo;\n      });\n    },\n    op: function op(i) {\n      if (this.popupVisible == true) {\n        if (i == 1) {\n          this.popupVisible = false;\n        } else if (this.count == 0 || this.shopvalue == \"颜色\" || this.shopsize == \"鞋码\") {\n          if (this.count == 0) {\n            MessageBox('提示', '购买数量为0');\n          } else if (this.shopvalue == \"颜色\") {\n            MessageBox('提示', '请选择颜色');\n          } else if (this.shopsize == \"鞋码\") {\n            MessageBox('提示', '请选择鞋码');\n          }\n        } else {\n          this.popupVisible = false;\n          Toast({\n            message: '选择成功',\n            iconClass: 'mui-icon-extra mui-icon-extra-like',\n            duration: 2000\n          });\n          this.checked = \"已选\" + '-' + this.shopvalue + '-' + this.shopsize + '-' + this.count + \" 件\";\n        }\n      } else {\n        this.popupVisible = true;\n      }\n    },\n    getallshop: function getallshop() {\n      var _this4 = this;\n\n      this.$http.get(\"allshopinfo\").then(function (result) {\n        _this4.allshopinfo = result.body[0];\n\n        _this4.getlists();\n      });\n    },\n    getlists: function getlists() {\n      var _this5 = this;\n\n      this.$http.get(\"shoplists\").then(function (result) {\n        _this5.listss = result.body;\n      });\n    },\n    shopcart: function shopcart() {\n      if (sessionStorage.getItem(\"login\").length > 1) {\n        if (this.checked == \"请选择（尺码/颜色/数量）\") {\n          Toast({\n            message: '加入失败，请选择商品',\n            duration: 2000\n          });\n          this.popupVisible = true;\n        } else {\n          var id = this.$route.query.id;\n          var title = this.lists.title;\n          var sum = this.lists.price;\n          var color = this.shopvalue;\n          var size = this.shopsize;\n          var count = this.count;\n          var img = this.sm_img;\n          this.$http.post(\"shopcart\", {\n            id: id,\n            title: title,\n            price: sum,\n            color: color,\n            size: size,\n            count: count,\n            img: img\n          }).then(function (result) {\n            Toast({\n              message: result.body.msg,\n              iconClass: 'mui-icon-extra mui-icon-extra-cart',\n              duration: 2000\n            });\n          });\n        }\n      } else {\n        Toast(\"请先登录！\");\n        this.$router.push(\"/login\");\n      }\n    },\n    comments: function comments() {\n      var _this6 = this;\n\n      this.pageIndex++;\n      var p = this.pageIndex; //页码\n\n      var s = this.pageSize; //页大小\n\n      var id = this.$route.query.id; //新闻编号\n\n      this.$http.get(\"comment?id=\" + id + \"&pno=\" + p + \"&pageSize=\" + s).then(function (result) {\n        var row = _this6.comment.concat(result.body.data);\n\n        _this6.comment = row;\n      });\n    }\n  },\n  created: function created() {\n    this.getswipt();\n    this.getshop();\n    this.getallshop();\n    this.comments(1);\n  },\n  watch: {\n    selecteds: function selecteds() {\n      if (this.selecteds == \"2\") {\n        this.allLoaded = false;\n      } else {\n        this.allLoaded = true;\n      }\n    },\n    duration: function duration(newval, oldval) {\n      for (var i = 0; i < this.color.length; i++) {\n        if (newval == this.color[i]) {\n          this.shopvalue = this.color[i];\n          this.sm_img = this.lists.sm_img[i];\n        }\n      }\n    },\n    durationSize: function durationSize(newval, oldval) {\n      for (var i = 0; i < this.size.length; i++) {\n        if (newval == this.size[i]) {\n          this.shopsize = this.size[i];\n        }\n      }\n    }\n  }\n};",{"version":3,"sources":["shopinfo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"my-shopinfo\">\r\n        <mt-loadmore :bottom-method=\"loadBottom\" :bottom-all-loaded=\"allLoaded\" bottomPullText bottomLoadingText ref=\"loadmore\">\r\n            <div class=\"mui-card\" style=\"background: none;\">\r\n            <div class=\"mui-card-header mui-card-media\" style=\"padding: 0;\">\r\n                <mt-swipe :auto=\"3000\">\r\n                    <mt-swipe-item v-for=\"item in list\" :key=\"item.id\">\r\n                        <img :src=\"item.img_url\"  :key=\"item.id\" class=\"w-100 h-100\"/>\r\n                    </mt-swipe-item>\r\n                </mt-swipe>\r\n            </div>\r\n            <div class=\"mui-card-content\">\r\n                <div class=\"mui-card-content-inner\">\r\n                    <p style=\"color: #000; font-size: 15px;\">{{lists.title}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"mui-card-footer\">\r\n                <span class=\"mui-card-link\">吊牌价： ￥<s>{{lists.new}}</s></span>\r\n                <span class=\"mui-card-link\">已售：<h4 style=\"color:red; margin-right:10px;\">{{lists.shop}}</h4>件</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"mui-card\" style=\"background: none;\">\r\n            <div class=\"mui-card-header\" style=\"background: url(http://127.0.0.1:1674/img/shopinfo/msBg.png) no-repeat, linear-gradient(180deg,#fc9a9a,#e61b25); padding: 0.8rem; color:#fff;\">\r\n            <div class=\"d-flex\" style=\"line-height:28px;\"><span style=\"margin:0;\">预售价:</span> <h4>￥{{lists.price}}</h4></div>\r\n            <div class=\"d-flex\" style=\"line-height:28px;\"><span style=\"margin:0;\">到手价:</span> <h4>￥{{lists.old}}</h4></div> \r\n            </div>\r\n            <div class=\"mui-card-content\">\r\n                <div class=\"mui-card-content-inner\" style=\"background: #fff;\">\r\n                    <p>预售开始时间：2018-11-01 00:00</p>\r\n                    <p style=\"margin:0;\">尾款支付时间：2018-11-10 23:00 — 2018-11-11 23:59</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"mui-card-footer\" style=\"padding: 1px;\">\r\n                <ul class=\"mui-table-view mui-table-view-chevron w-100\" style=\"background: none\">\r\n                    <li class=\"mui-table-view-cell mui-media w-100\"> \r\n                        <div class=\"mui-navigate-right\" style=\"display:inline;\">\r\n                            <div class=\"mui-media-body d-flex\" style=\"justify-content: space-around;\">\r\n                                <span>规格选择：</span>\r\n                                <b @click=\"op()\">{{checked}}</b>\r\n                                <mt-popup v-model=\"popupVisible\" position=\"bottom\" class=\"w-100\">\r\n                                    <div>\r\n                                        <ul class=\"mui-table-view\">\r\n                                            <li class=\"mui-table-view-cell mui-media\">\r\n                                                <img class=\"mui-media-object mui-pull-left w-50 h-50\" :src=\"sm_img\">\r\n                                                <div class=\"mui-media-body\">\r\n                                                    <p style=\"text-align:right;\">\r\n                                                        <span class=\"mui-icon mui-icon-closeempty\" @click=\"op(1)\"></span>\r\n                                                    </p>\r\n                                                    <h4 style=\"overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;\">{{lists.title}}</h4>\r\n                                                    <h4 style=\"color:red;\">合计： ￥{{sum}}</h4>\r\n                                                    <div class='mui-ellipsis'>\r\n                                                        <div class=\"mui-numbox\">\r\n                                                            <button class=\"mui-btn mui-btn-numbox-minus\" type=\"button\" @click=\"minus()\">-</button>\r\n                                                            <input class=\"mui-input-numbox\" type=\"number\" v-model=\"count\" disabled/>\r\n                                                            <button class=\"mui-btn mui-btn-numbox-plus\" type=\"button\" @click=\"add()\">+</button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </li>\r\n                                        </ul>\r\n                                        <mt-navbar v-model=\"selected\">\r\n                                        <mt-tab-item id=\"1\">{{shopvalue}}</mt-tab-item>\r\n                                        <mt-tab-item id=\"2\">{{shopsize}}</mt-tab-item>\r\n                                        </mt-navbar>\r\n                                        <mt-tab-container v-model=\"selected\">\r\n                                        <mt-tab-container-item id=\"1\">\r\n                                            <mt-radio\r\n                                            :options=color\r\n                                            v-model=\"duration\">\r\n                                            </mt-radio>\r\n                                        </mt-tab-container-item>\r\n                                        <mt-tab-container-item id=\"2\">\r\n                                        <mt-radio\r\n                                            :options=size\r\n                                            v-model=\"durationSize\">\r\n                                            </mt-radio>\r\n                                        </mt-tab-container-item>\r\n                                        </mt-tab-container>\r\n                                    </div>\r\n                                    <mt-button size=\"large\" type=\"danger\" @click=\"op()\">确定</mt-button>\r\n                                </mt-popup>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <mt-navbar v-model=\"selecteds\" value=\"1\">\r\n            <mt-tab-item id=\"1\">详细</mt-tab-item>\r\n            <mt-tab-item id=\"2\">评论（1）</mt-tab-item>\r\n            </mt-navbar>\r\n            <mt-tab-container v-model=\"selecteds\">\r\n            <mt-tab-container-item id=\"1\">\r\n            <div class=\"mui-card\">\r\n                <div class=\"mui-card-header\">\r\n                    <div style=\"font-size: 70%;\">\r\n                        <div><b>产品名称：</b>{{lists.title}}</div>\r\n                        <div><b>货&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;号：</b>{{lists.snum}}</div>\r\n                        <div><b>品&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;牌：</b>特步</div>\r\n                        <div><b>品&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;类：</b>{{lists.type}}</div>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div class=\"mui-card-content\">\r\n                    <div class=\"mui-card-content-inner\">\r\n                        <img :src=\"img\" v-for=\"img in imginfo\" :key=\"img.id\" class=\"w-100 h-100\"/>\r\n                        <img :src=\"imgs.img_url\" v-for=\"imgs in allshopinfo\" :key=\"imgs.id\" class=\"w-100 h-100\"/>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <p class=\"w-100\" style=\"text-align: center;\">—— 推荐商品 ——</p>\r\n                    <a @click=\"push(img.id)\" :key=\"img.id\" v-for=\"img in listss\">\r\n                        <img :src=\"img.img\" class=\"mui-col-xs-6 mui-col-sm-6\"/>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            </mt-tab-container-item>\r\n            <mt-tab-container-item id=\"2\">\r\n                    <ul class=\"mui-table-view\">\r\n                        <li class=\"mui-table-view-cell mui-media\" v-for=\"(item,i) in comment\" :key=\"item.id\">\r\n                            <img class=\"mui-media-object mui-pull-left w-25 h-25\" :src=\"item.tx\">\r\n                            <div class=\"mui-media-body\">\r\n                                <h4><h5 class=\"mui-badge mui-badge-dark mui-badge-inverted\">第{{i+1}}楼</h5>  {{item.uname}}&nbsp;&nbsp;&nbsp;<h5 class=\"mui-badge mui-badge-danger mui-badge-inverted\">VIP</h5></h4>\r\n                                <h5 class='mui-ellipsis'>{{item.ctime | datetimeFilter}}</h5>\r\n                                <div>{{item.content}}</div>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                <textarea placeholder=\"请吐槽最多120个字\" maxlength=\"120\" v-model=\"msg\">\r\n                </textarea>\r\n                <mt-button size=\"large\" type=\"danger\" @click=\"postComment()\">发表评论</mt-button>\r\n            </mt-tab-container-item>\r\n            </mt-tab-container>\r\n        </div>\r\n        </mt-loadmore>\r\n        <mt-tabbar v-model=\"selectedf\" fixed style=\"height:58px;\">\r\n            <router-link to=\"/index\" class=\"mui-col-xs-3 mui-col-sm-3\">\r\n                <mt-tab-item id=\"1\" class=\"bl\" style=\"color:#fff; border-right: 2px solid #fff;\">\r\n                    <img slot=\"icon\" src=\"http://127.0.0.1:1674/img/footer/home (1).png\">\r\n                    <span style=\"font-size:13px;\">首页</span>\r\n                </mt-tab-item>\r\n            </router-link>\r\n            <a @click=\"back()\" class=\"mui-col-xs-3 mui-col-sm-3\">\r\n                <mt-tab-item id=\"2\" class=\"bl\" style=\"color:#fff; border-right: 2px solid #fff;\">\r\n                    <img slot=\"icon\" src=\"http://127.0.0.1:1674/img/footer/classify.png\">\r\n                    <span style=\"font-size:13px;\">分类</span>\r\n                </mt-tab-item>\r\n            </a>\r\n            <div @click=\"shopcart()\" class=\"mui-col-xs-6 mui-col-sm-6\" style=\"background: #ff6600; color:#fff; line-height: 58px; font-size:large;\">\r\n                <b>加 入 购 物 车</b>\r\n            </div>\r\n        </mt-tabbar>\r\n        <span class=\"mui-icon-extra mui-icon-extra-cart\" @click.stop=\"carturl()\"></span>\r\n    </div>\r\n</template>\r\n<script>\r\n    import footer from \"../sub/footer.vue\";\r\n    import { MessageBox } from 'mint-ui';\r\n    import {Toast} from \"mint-ui\"\r\n    export default({\r\n        data(){\r\n            return {\r\n                msg:\"\",\r\n                selectedf:\"1\",\r\n                selecteds:\"1\",\r\n                listss:[],\r\n                list:[],\r\n                popupVisible:false,\r\n                lists:[],\r\n                selected:\"1\",\r\n                color:[],\r\n                size:[],\r\n                shopvalue:\"颜色\",\r\n                shopsize:\"尺码\",\r\n                duration:'',\r\n                durationSize:'',\r\n                checked:\"请选择（尺码/颜色/数量）\",\r\n                sm_img:[],\r\n                count:0,\r\n                sum:0,\r\n                imginfo:[],\r\n                allshopinfo:[],\r\n                comment:[],\r\n                page:[],\r\n                allLoaded:\"\",\r\n                pageIndex:0,           \r\n                pageSize:5,\r\n            }\r\n        },\r\n        methods:{\r\n            loadBottom() {\r\n                this.comments()\r\n                this.$refs.loadmore.onBottomLoaded();\r\n            },\r\n            postComment(){\r\n                var c=this.msg;\r\n                var uname=\"马云\";\r\n                var id=this.$route.query.id\r\n                if(c.trim().length==0){\r\n                    Toast(\"评论内容不能为空\")\r\n                    return;\r\n                }\r\n                this.$http.post(\"incomment\",{id:id,c:c,uname:uname}).then(result=>{\r\n                    Toast(result.body)\r\n                    this.comments()\r\n                    this.msg=\"\"\r\n                })\r\n            },\r\n            carturl(){\r\n                if(sessionStorage.getItem(\"login\")==1){\r\n                    this.$router.push(\"/index/shopcart\")\r\n                }else{\r\n                    Toast(\"请先登录！\")\r\n                    this.$router.push(\"/login\")\r\n                }\r\n                \r\n            },\r\n            back(){\r\n                this.$router.push(\"/index/shoplists\")\r\n            },\r\n            push(id){\r\n                this.$router.push('/index/shoplists/shopinfo?id='+id);\r\n                this.$router.go(0);\r\n               \r\n            },\r\n            add(){\r\n                if(this.count<999){\r\n                    this.count++\r\n                    this.sum=this.lists.price*this.count\r\n                }\r\n            },\r\n            minus(){\r\n                if(this.count>0){\r\n                    this.count--\r\n                    this.sum=this.lists.price*this.count\r\n                }\r\n            },\r\n            getswipt(){\r\n                var id=this.$route.query.id;\r\n                this.$http.get(\"shopinfo\").then(result=>{\r\n                    this.list=result.body[id-1]\r\n                })\r\n            },\r\n            getshop(){\r\n                var id=this.$route.query.id;\r\n                this.$http.get(\"shoplists\").then(result=>{\r\n                    this.lists=result.body[id-1]\r\n                    this.color=this.lists.color\r\n                    this.size=this.lists.size\r\n                    this.sm_img=this.lists.sm_img[0]\r\n                    this.imginfo=this.lists.imginfo\r\n                })\r\n            },\r\n            op(i){\r\n                if(this.popupVisible==true){\r\n                    if(i==1){\r\n                        this.popupVisible=false;\r\n                    }else if(this.count==0 || this.shopvalue==\"颜色\" || this.shopsize==\"鞋码\"){\r\n                        if(this.count==0){\r\n                            MessageBox('提示', '购买数量为0');\r\n                        }else if(this.shopvalue==\"颜色\"){\r\n                            MessageBox('提示', '请选择颜色');\r\n                        }else if(this.shopsize==\"鞋码\"){\r\n                            MessageBox('提示', '请选择鞋码');\r\n                        }\r\n                    }else{\r\n                        this.popupVisible=false;\r\n                        Toast({\r\n                                message: '选择成功',\r\n                                iconClass: 'mui-icon-extra mui-icon-extra-like',\r\n                                duration: 2000\r\n                            })\r\n                        this.checked=\"已选\"+'-'+this.shopvalue+'-'+this.shopsize+'-'+this.count+\" 件\"\r\n                    }\r\n                }else{\r\n                    this.popupVisible=true;\r\n                }\r\n            },\r\n            getallshop(){\r\n                this.$http.get(\"allshopinfo\").then(result=>{\r\n                    this.allshopinfo=result.body[0]\r\n                    this.getlists()\r\n                })\r\n            },\r\n            getlists(){\r\n                this.$http.get(\"shoplists\").then(result=>{\r\n                    this.listss=result.body\r\n                })\r\n            },\r\n            shopcart(){\r\n                if(sessionStorage.getItem(\"login\").length>1){\r\n                    if(this.checked==\"请选择（尺码/颜色/数量）\"){\r\n                        Toast({\r\n                                message: '加入失败，请选择商品',\r\n                                duration: 2000\r\n                            });\r\n                        this.popupVisible=true;\r\n                    }else{\r\n                        var id=this.$route.query.id;\r\n                        var title=this.lists.title;\r\n                        var sum=this.lists.price;\r\n                        var color=this.shopvalue;\r\n                        var size=this.shopsize;\r\n                        var count=this.count;\r\n                        var img=this.sm_img;\r\n                        this.$http.post(\"shopcart\",{id:id,title:title,price:sum,color:color,size:size,count:count,img:img}).then(result=>{\r\n                            Toast({\r\n                                message: result.body.msg,\r\n                                iconClass: 'mui-icon-extra mui-icon-extra-cart',\r\n                                duration: 2000\r\n                            })\r\n                        })\r\n                    }\r\n                }else{\r\n                    Toast(\"请先登录！\")\r\n                    this.$router.push(\"/login\")\r\n                }\r\n            },\r\n            comments(){\r\n                this.pageIndex++;\r\n                var p=this.pageIndex;     //页码\r\n                var s=this.pageSize;      //页大小\r\n                var id=this.$route.query.id           //新闻编号\r\n                this.$http.get(\"comment?id=\"+id+\"&pno=\"+p+\"&pageSize=\"+s).then(result=>{\r\n                    var row = this.comment.concat(result.body.data);\r\n                    this.comment = row\r\n                })\r\n            }\r\n        },\r\n        created(){\r\n            this.getswipt();\r\n            this.getshop();\r\n            this.getallshop();\r\n            this.comments(1);\r\n        },\r\n        watch:{\r\n            selecteds(){\r\n                if(this.selecteds==\"2\"){\r\n                    this.allLoaded=false\r\n                }else{\r\n                    this.allLoaded=true\r\n                }\r\n            },\r\n            duration(newval,oldval){\r\n                for(var i=0;i<this.color.length;i++){\r\n                    if(newval==this.color[i]){\r\n                        this.shopvalue=this.color[i]\r\n                        this.sm_img=this.lists.sm_img[i]\r\n                        \r\n                    }\r\n                }\r\n            },\r\n            durationSize(newval,oldval){\r\n                for(var i=0;i<this.size.length;i++){\r\n                    if(newval==this.size[i]){\r\n                        this.shopsize=this.size[i]\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    })\r\n</script>\r\n<style>\r\n    .my-shopinfo .mui-icon-extra-cart:before{\r\n        position: fixed;\r\n        bottom:40%;\r\n        right:5%;\r\n        color: red;\r\n        font-size: 30px;\r\n        font-weight: 100;\r\n    }\r\n    .mint-toast.is-placemiddle{\r\n        z-index: 9999 !important;\r\n    }\r\n    .my-shopinfo .bl{\r\n        background:#000;\r\n    }\r\n    .my-shopinfo .mint-tabbar > .mint-tab-item.is-selected{\r\n        color:#fff;\r\n        background:#000;\r\n    }\r\n    .my-shopinfo .mui-icon-closeempty:before{\r\n        font-size: 40px;\r\n        text-align:right;\r\n    }\r\n    .my-shopinfo .mui-table-view-chevron .mui-table-view-cell{\r\n        padding-right: 15px;\r\n    }\r\n    .my-shopinfo .mui-table-view .mui-media-object{\r\n        max-width:50%;\r\n    }\r\n    .my-shopinfo .mint-radiolist{\r\n        height:145px;\r\n        overflow: auto;\r\n    }\r\n    .my-shopinfo .mint-navbar .mint-tab-item.is-selected{\r\n        color: red;\r\n    }\r\n    .my-shopinfo .mint-tab-item-label{\r\n        font-size: large;\r\n    }\r\n    .my-shopinfo{\r\n        position: relative;\r\n        top: -50px;\r\n        left: 0;\r\n    }\r\n    .my-shopinfo .mui-card{\r\n        margin: 0;\r\n    }\r\n    .my-shopinfo .mint-swipe{\r\n        height: 375px;\r\n    }\r\n    .my-shopinfo .mint-swipe img{\r\n        width:100%;\r\n        height:100%\r\n    }\r\n    .my-shopinfo .mint-swipe-indicator.is-active{\r\n        background: red;\r\n        opacity: 0.8;\r\n    }\r\n    .my-shopinfo .mui-navigate-right:after, .mui-push-right:after{\r\n        right: 10px;\r\n        font-size: 1.5rem;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src\\components\\shop"}]}